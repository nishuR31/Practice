<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Change My Color!</title>

    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: Inter, system-ui, sans-serif;
            background-color: #f8f9fa;
            padding: 2rem;
            color: #333;
        }

        h1 {
            padding: 1rem;
            text-align: center;
            font-weight: 700;
            font-size: 2rem;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: color 0.3s ease-in-out;
        }

        p {
            margin-top: 1rem;
            text-align: center;
            font-size: 1.1rem;
        }

        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            background-color: #007bff;
            color: white;
            cursor: pointer;
            transition: transform 0.3s ease, background-color 0.3s ease;
        }

        .btn:hover {
            transform: scale(1.05);
            background-color: #0056b3;
        }

        .btn:active {
            transform: scale(0.95);
        }

        #buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-top: 1rem;
        }

        #utils {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        #colorValue,
        #color {
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body>

    <h1 id="text" contenteditable="true">Change My Color!, and I am editable too...</h1>
    <p>Just click the <button class="btn">buttons</button> below!</p>
    <p>You can also choose more colours from selector and custom colour buttons!</p>

    <div id="buttons">
        <button class="btn" value="red">Red</button>
        <button class="btn" value="green">Green</button>
        <button class="btn" value="blue">Blue</button>
        <button class="btn" value="purple">Purple</button>
        <button class="btn" value="orange">Orange</button>
        <button class="btn" value="grey">Grey</button>
        <button class="btn" value="cyan">Cyan</button>
        <button class="btn" value="yellow">Yellow</button>
    </div>
    <br>
    <br>
    <div id="utils">

        <button class="btn" id="addButton">Add button</button>
        <div>
            <label for="color">Choose Color:</label>
            <input id="color" type="color" value="" />
        </div>
        <input id="colorValue" type="text" placeholder="Dont manually type invalid color" value="">

        <button class="btn" id="resetButton">Reset</button>
    </div>

    <div id="info"></div>



    <script>
        function color() {
            let addButton = document.querySelector("#addButton");
            let info = document.querySelector("#info");
            let resetButton = document.querySelector("#resetButton");
            let color = document.querySelector("#color");
            let colorValue = document.querySelector("#colorValue");
            let text = document.querySelector("#text");
            let buttons = document.querySelector("#buttons")
            buttons.addEventListener("click", (event) => { text.style.color = event.target.value; text.style.borderBottom = `3px double ${event.target.value}`; text.style.animation = " shake 2s ease-in-out 0s infinite"; setTimeout(() => { text.style.animation = ""; }, 2000) });
            color.addEventListener("change", (event) => { colorValue.value = event.target.value; })
            resetButton.addEventListener("click", () => { text.style.color = "#000000"; colorValue.value = ""; text.style.borderBottomColor = "black"; text.style.animation = " shake 2s ease-in-out 0s infinite"; setTimeout(() => { text.style.animation = ""; }, 2000) })

            addButton.addEventListener("click", () => {

                if (!colorValue.value) {
                    console.log("color value needed"); info.innerHTML = "<h3  style='margin-top:10px;padding:10px 3px 10px 3px ; width:fit-content;box-shadow: 3px 3px 4px red;background-color: rgba(255, 0, 0, 0.5);'> Please select color before adding button</h3>"; setTimeout(() => { console.log("time end"); info.innerHTML = ""; }, 1500); return;
                }
                console.log("button added");
                let newButton = document.createElement("button");
                newButton.setAttribute("id", colorValue.value);
                newButton.setAttribute("value", colorValue.value);
                newButton.setAttribute("class", "btn");
                newButton.style.backgroundColor = newButton.getAttribute("id");
                newButton.innerHTML = newButton.getAttribute("id");
                buttons.appendChild(newButton);
            });

        }

        color();
    </script>
</body>

</html>
